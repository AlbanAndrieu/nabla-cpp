PROJECT(MICROSOFT CXX)

ENABLE_LANGUAGE(C)

CMAKE_MINIMUM_REQUIRED(VERSION "2.8.7")

INCLUDE(${PROJECT_SOURCE_DIR}/../../config/Project.cmake)

SET(EXPORT_FILE microsoft-build.cmake)

INSTALL(EXPORT microsoft-install
        DESTINATION lib/microsoft-${PROJECT_VERSION_FULL}
        FILE microsoft-install.cmake)

MESSAGE( STATUS "PROJECT_INSTALL_DIR: " ${PROJECT_INSTALL_DIR} )
MESSAGE( STATUS "PROJECT_BINARY_DIR: " ${PROJECT_BINARY_DIR} )
MESSAGE( STATUS "PROJECT_SOURCE_DIR: " ${PROJECT_SOURCE_DIR} )
MESSAGE( STATUS "CMAKE_BINARY_DIR:         " ${CMAKE_BINARY_DIR} )
MESSAGE( STATUS "CMAKE_CURRENT_BINARY_DIR: " ${CMAKE_CURRENT_BINARY_DIR} )
MESSAGE( STATUS "CMAKE_SOURCE_DIR:         " ${CMAKE_SOURCE_DIR} )
MESSAGE( STATUS "CMAKE_CURRENT_SOURCE_DIR: " ${CMAKE_CURRENT_SOURCE_DIR} )

# Just process the sub directories
ADD_SUBDIRECTORY(src)

# Add coverage options for CI
#if(COVERAGE)
#	set_target_properties(main_library run_app run_tests PROPERTIES
#						  COMPILE_FLAGS "-fprofile-arcs -ftest-coverage"
#						  LINK_FLAGS "-coverage")
#endif(COVERAGE)
